#声波通信调研
##1.基本原理
主要是用单频率声音信号对数据进行编码，然后播放这些单频率声音，接收方在收到声音后，识别出频率，然后根据频率解码出数据。

比如：我们可以将1500HZ的正弦波对应数字1，1600HZ的正弦波对应数字2，1700HZ的正弦波对应数字3。那么数字串3123就对应4段正弦波，规定每段正弦波持续100ms，则3123对应400毫秒的声音段。接收方录制声音，对收到的声音进行解析，识别出1700HZ，1500HZ，1600HZ，1700HZ四段正弦波频率，然后查找码本，解码出的数字就是3123。

具体实现需要用到以下几个部分

- 发送端：数据组合、编码（加密）、发声
- 接收端：接收声音、解码（解密）、数据拆分

##2.实现
###2.1发送端设计
![发送端的设计](doc/design/SinVoicePlayer.png)

**基本流程说明**：调用`SinVoicePlayer`的`play()`方法，`Encoder`交由`SinGenerator`对文字进行编码处理，编码完成后，经由`SinVoicePlayer`将处理结果放入`Buffer`的队列中，`PcmPlayer`从`Buffer`的队列中取出处理结果进行播放。

###2.2接收端设计
![发送端的设计](doc/design/SinVoiceRecognition.png)

**基本流程说明**：调用`SinVoiceRecognition`的`start()`方法，`Record`开始收集声音，并将声音转换为字节数组，放入`Buffer`的队列中，然后`VoiceRecognition`从`Buffer`的队列中取出字节数组，获取此字节数组代码的字符在码本中的位置，最后`SinVoiceRecognition`在码本中查到到相应位置的字符。